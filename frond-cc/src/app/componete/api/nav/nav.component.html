<!-- HEADER SUPERIOR -->
<header 
  class="d-flex justify-content-between align-items-center px-4 py-3 text-white shadow"
  style="background: linear-gradient(135deg, #0072FF, #1FA774);">

  <a [routerLink]="['/api']" class="d-flex align-items-center">
    <img src="../../../../assets/img/unnamed.png" class="logo" style="height: 48px;">
  </a>

  <div class="d-flex align-items-center gap-3">

    <!-- Botón de alertas -->
    <button *ngIf="rol=='PLD'" class="btn btn-light position-relative rounded-pill px-3 py-1 shadow-sm"
      (click)="riesgo.show()">
      <mat-icon [matBadge]="calert" matBadgeColor="warn">notifications</mat-icon>
    </button>

    <!-- Logout -->
    <button class="btn btn-danger rounded-pill px-3 shadow-sm" (click)="logout()">
      <mat-icon>logout</mat-icon>
    </button>
  </div>
</header>

<!-- TICKER BLOOMBERG -->
<div class="ticker-wrapper">
  <div class="ticker-blur-left"></div>
  <div class="ticker-blur-right"></div>

  <div class="ticker-content" (mouseenter)="pauseTicker()" (mouseleave)="resumeTicker()">
    <ul class="ticker-items">
      <li *ngFor="let a of divisas">
        <strong class="text-success">{{ a.grupo }}</strong>
        &nbsp;Compra:&nbsp;<span class="text-info">{{ a.compra }}</span>
        &nbsp;| Venta:&nbsp;<span class="text-warning">{{ a.venta }}</span>
      </li>
    </ul>
  </div>
</div>


<!-- NAV MODERNO -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm py-2"
  style="background: #0B0C0E;">
  <div class="container-fluid">

    <!-- Botón móvil -->
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse"
      data-bs-target="#navbarMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-center" id="navbarMenu">
      <ul class="navbar-nav gap-lg-4 gap-2 text-center">

        <li class="nav-item dropdown" *ngFor="let a of menus">

          <!-- Menú principal -->
          <a class="nav-link dropdown-toggle fw-semibold px-3 py-2"
            style="color: #F4F7FA;"
            href="#" data-bs-toggle="dropdown">
            {{ a.menu }}
          </a>

          <!-- Submenú -->
          <ul
            class="dropdown-menu shadow-lg border-0 rounded-3 mt-2 animate__animated animate__fadeIn"
            style="background: #0B0C0E;">

            <li *ngFor="let b of a.submenus">
              <a class="dropdown-item py-2 px-3 text-white"
                style="transition: 0.2s;"
                [routerLink]="b.componente"
                routerLinkActive="active">
                <i class="bi bi-caret-right-fill me-2" style="color:#0072FF;"></i>
                {{ b.nombre }}
              </a>
            </li>
          </ul>

        </li>

      </ul>
    </div>
  </div>
</nav>

<!-- MODAL ALERTAS -->
<div class="modal fade" bsModal #riesgo="bs-modal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content bg-dark text-white rounded-4 shadow-lg">
      <div class="modal-header border-0">
        <h5 class="modal-title">Alertas</h5>
        <button type="button" class="btn-close btn-close-white" (click)="riesgo.hide()"></button>
      </div>
      <div class="modal-body">
        <!-- contenido dinámico -->
      </div>
    </div>
  </div>
</div>
